from flask import Flask, jsonify, json

all_cats = [
	{
		"name": 1,
		"cat":
			{
				"breeds": [],
				"id": "d46",
				"url": "https://cdn2.thecatapi.com/images/d46.jpg",
				"width": 1024,
				"height": 1280
			}
	},
	
	{
		"name": 2,
		"cat":
			{
				"breeds":[],
				"id":"akf",
				"url":"https://cdn2.thecatapi.com/images/akf.jpg",
				"width":3456,
				"height":5184
			}
	},
	
	{
		"name": 3,
		"cat":
			{
				"breeds":[],
				"id":"dqn",
				"url":"https://cdn2.thecatapi.com/images/dqn.jpg",
				"width":560,
				"height":480
			}
	},
	
	{
		"name": 4,
		"cat":
			{
				"breeds":[],
				"id":"dev",
				"url":"https://cdn2.thecatapi.com/images/dev.jpg",
				"width":960,
				"height":720
			}
	},
	
	{
		"name": 5,
		"cat":
			{
				"breeds":[],
				"id":"2dl",
				"url":"https://cdn2.thecatapi.com/images/2dl.jpg",
				"width":300,
				"height":306
			}
	},
	
	{
		"name": 6,
		"cat":
			{
				"breeds":[],
				"id":"bsm",
				"url":"https://cdn2.thecatapi.com/images/bsm.jpg",
				"width":601,
				"height":900
			}
	},
	
	{
		"name": 7,
		"cat":
			{
				"breeds":[],
				"id":"MTcxMzc5Mg",
				"url":"https://cdn2.thecatapi.com/images/MTcxMzc5Mg.jpg",
				"width":640,
				"height":429
			}
	},
	
	{
		"name": 8,
		"cat":
			{
				"breeds":[],
				"id":"3f2",
				"url":"https://cdn2.thecatapi.com/images/3f2.jpg",
				"width":500,
				"height":333
			}
	},
	
	{
		"name": 9,
		"cat":
			{
				"breeds":[],
				"id":"73u",
				"url":"https://cdn2.thecatapi.com/images/73u.jpg",
				"width":500,
				"height":375
			}
	},
	
	{
		"name": 10,
		"cat":
			{
				"breeds":[],
				"id":"bts",
				"url":"https://cdn2.thecatapi.com/images/bts.jpg",
				"width":640,
				"height":480
			}
	},
	
	{
		"name": 11,
		"cat":
			{
				"breeds":[],
				"id":"a4t",
				"url":"https://cdn2.thecatapi.com/images/a4t.jpg",
				"width":426,
				"height":640
			}
	},

	{
		"name": 12,
		"cat":
			{
				"breeds":[],
				"id":"a0n",
				"url":"https://cdn2.thecatapi.com/images/a0n.jpg",
				"width":530,
				"height":709
			}
	},
	
	{
		"name": 13,
		"cat":
			{
				"breeds":[],
				"id":"MTY3ODE2MA",
				"url":"https://cdn2.thecatapi.com/images/MTY3ODE2MA.jpg",
				"width":640,
				"height":480
			}
	},
	
	{
		"name": 14,
		"cat":
			{
				"breeds":[],
				"id":"8fe",
				"url":"https://cdn2.thecatapi.com/images/8fe.jpg",
				"width":800,
				"height":600
			}
	},
	
	{
		"name": 15,
		"cat":
			{
				"breeds":[],
				"id":"83r",
				"url":"https://cdn2.thecatapi.com/images/83r.gif",
				"width":500,
				"height":273
			}
	},
	
	{
		"name": 16,
		"cat":
			{
				"breeds":[],
				"id":"2g3",
				"url":"https://cdn2.thecatapi.com/images/2g3.jpg",
				"width":500,
				"height":750
			}
	},
	
	{
		"name": 17,
		"cat":
			{
				"breeds":[],
				"id":"497",
				"url":"https://cdn2.thecatapi.com/images/497.gif",
				"width":320,
				"height":180
			}
	},
	
	{
		"name": 18,
		"cat":
			{
				"breeds":[],
				"id":"7mg",
				"url":"https://cdn2.thecatapi.com/images/7mg.jpg",
				"width":500,
				"height":298
			}
	},
	
	{
		"name": 19,
		"cat":
			{
				"breeds":[],
				"id":"bq5",
				"url":"https://cdn2.thecatapi.com/images/bq5.jpg",
				"width":1280,
				"height":851
			}
	},
	
	{
		"name": 20,
		"cat":
			{
				"breeds":[],
				"id":"cog",
				"url":"https://cdn2.thecatapi.com/images/cog.jpg",
				"width":525,
				"height":700
			}
	}
]

app = Flask(__name__)

@app.route('/gettest', methods=['GET'])
def gettest():
    return jsonify(all_cats)

@app.route('/posttest', methods=['POST'])
def posttest():
    if not request.json or not 'name' in request.json:
        return jsonify({'error': 'A name is needed.'}), 400

    new_cat = {
        'name': request.json['name']
        'cat': request.json.get('cat', ''
    }
    all_cats.append(new_cat)
    return jsonify({'message': 'created: /posttest/{}'.format(new_cats['name'])}), 201

if __name__ == "__main__":
    app.run(host='0.0.0.0', port='80')
